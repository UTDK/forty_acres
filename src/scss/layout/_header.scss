//
// UT DS Header CSS Overrides.
//
header.ut-header {
  // stylelint-disable-next-line at-rule-no-unknown
  @include screen-mq(md) {
    padding-top: 1rem;
    padding-bottom: 0;
  }
  .region-primary-menu {
    // stylelint-disable-next-line at-rule-no-unknown
    @include screen-mq(md) {
      margin: 0;
      // this pushes the hr down enough for it to appear whole
      margin-bottom: 1px;
    }
  }
  .region-header-primary {
    padding: 10px 0;
    // stylelint-disable-next-line at-rule-no-unknown
    @include screen-mq(md) {
      padding: 0;
    }
  }
  // Wraps the Primary Header region and #js-nav-toggle button
  .ut-header-wrapper {
    justify-content: space-between;
    // stylelint-disable-next-line at-rule-no-unknown
    @include screen-mq(md) {
      position: absolute;
      z-index: 1;
    }
  }
  .header-flex-wrapper {
    margin-top: 20px;
    // stylelint-disable-next-line at-rule-no-unknown
    @include screen-mq(md) {
      margin-top: unset;
      display: flex;
      justify-content: flex-end;
      // Use min-height to push the main menu down a bit and it works even if
      // the header blocks
      min-height: 80px;
    }
  }
  .region-header-secondary,
  .region-header-tertiary {
    display: flex;
    flex-direction: column;
    // stylelint-disable-next-line at-rule-no-unknown
    @include screen-mq(md) {
      margin-left: 20px;
      padding: 0;
    }
    // Add some vertical space between direct descendant divs and navs in case where
    // multiple blocks have been added to header regions
    & > div,
    & > nav {
      margin-bottom: 20px;
      margin-right: auto;
      // stylelint-disable-next-line at-rule-no-unknown
      @include screen-mq(md) {
        margin-right: unset;
        margin-left: auto;
      }
    }
  }
  // Wrapper of the entire mobile nav that is shown/hidden via click event
  // on #js-nav-toggle which toggles 'active' class on #ut-main_menu-wrapper.
  #ut-main_menu-wrapper {
    transition: background-color, color, 0.25s;
    @media (max-width: map-get($grid-breakpoints, md) - 1px) {
      padding: 1rem;
      width: 100%;
      position: absolute;
      z-index: -100;
      top: 60px;
      left: 0;
      overflow: hidden;
      overflow-y: scroll;
      overflow: hidden;
      opacity: 0;
      background-color: $ut-limestone--t20;
      border-top: 1px solid $ut-shade--t60;
      border-bottom: 1px solid $ut-shade--t60;
      display: flex;
      flex-flow: column-reverse;
      &.active {
        opacity: 1;
      }
    }
    @media (min-width: map-get($grid-breakpoints, md) + 1px) {
      position: relative;
    }
    &.active {
      z-index: 100;
    }
  }
}
